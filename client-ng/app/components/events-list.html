<section class="hero card">
  <h1>Welcome to Charity Events</h1>
  <p class="meta">
    Browse upcoming runs, gala dinners, auctions, and blood drives in Sydney and beyond.
  </p>
</section>

<section ng-if="$vm.loading" class="meta">Loading events...</section>

<section aria-live="polite" class="grid" ng-if="!$vm.loading">
  <article class="card" ng-repeat="ev in $vm.events">
    <img class="media" ng-src="{{ (ev | hero) }}" alt="{{ev.title}}">

    <div class="badges">
      <span class="badge" ng-class="(ev.end_datetime | isEnded) ? 'ended' : 'upcoming'">
        {{ (ev.end_datetime | isEnded) ? 'Ended' : 'Upcoming' }}
      </span>
      <span class="badge">{{ev.category}}</span>
    </div>

    <h3>{{ev.title}}</h3>
    <p class="meta">{{ev.org_name}} · {{ev.city}} {{ev.state}}</p>
    <p class="meta">{{ev.start_datetime | dateTime}} — {{ev.end_datetime | dateTime}}</p>

    <!-- Price on its own line -->
    <p class="price-line">Ticket:
      <span class="price">{{ev.ticket_price_cents | price:ev.is_free}}</span>
    </p>

    <p><a href="#!/event/{{ev.id}}">View Details →</a></p>
  </article>
</section>
